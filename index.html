<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Feng Shui 2 Vehicle Chase Tracker</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="manifest" href="manifest.json" />
</head>
<body>
  <header>
    <h1>Feng Shui 2 Vehicle Chase Tracker</h1>
  </header>
  <main>
    <!-- Vehicle Setup Section -->
    <section id="vehicle-setup">
      <h2>Add Vehicle</h2>
      <form id="addVehicleForm">
        <label for="vehicleType">Vehicle Type:</label>
        <select id="vehicleType" required>
          <option value="" disabled selected>Select vehicle type</option>
          <!-- Predefined vehicles from the manual -->
          <option value="Motorcycle">Motorcycle</option>
          <option value="Snowmobile">Snowmobile</option>
          <option value="Horse">Horse</option>
          <option value="Family Sedan">Family Sedan</option>
          <option value="Compact Car">Compact Car</option>
          <option value="Sport Utility Vehicle, Civilian">Sport Utility Vehicle, Civilian</option>
          <option value="Sport Utility Vehicle, Security">Sport Utility Vehicle, Security</option>
          <option value="Pickup Truck">Pickup Truck</option>
          <option value="Luxury Sedan">Luxury Sedan</option>
          <option value="Cop Car">Cop Car</option>
          <option value="Muscle Car">Muscle Car</option>
          <option value="Sports Car">Sports Car</option>
          <option value="Jeep, Civilian">Jeep, Civilian</option>
          <option value="Jeep, Military">Jeep, Military</option>
          <option value="Armored Army Vehicle">Armored Army Vehicle</option>
          <option value="Panel Van">Panel Van</option>
          <option value="Panel Truck">Panel Truck</option>
          <option value="Eighteen Wheeler">Eighteen Wheeler</option>
          <option value="Junker Car">Junker Car</option>
          <option value="Junker Pickup Truck">Junker Pickup Truck</option>
          <option value="Vintage Van">Vintage Van</option>
          <option value="Tank">Tank</option>
          <!-- "Custom" option -->
          <option value="Custom">Custom</option>
        </select>

        <input type="text" id="vehicleName" placeholder="Vehicle Name" required />

        <!-- Always request Driving Score -->
        <input type="number" id="driving" placeholder="Driving Score" required />

        <!-- Only for Custom vehicles: manual entry for Acceleration, Handling, Frame -->
        <div id="customStats" style="display: none;">
          <input type="number" id="acceleration" placeholder="Acceleration" />
          <input type="number" id="handling" placeholder="Handling" />
          <input type="number" id="frame" placeholder="Frame" />
        </div>

        <label for="vehicleRole">Role:</label>
        <select id="vehicleRole" required>
          <option value="Pursuer">Pursuer</option>
          <option value="Evader">Evader</option>
        </select>

        <label for="controlType">Control:</label>
        <select id="controlType" required>
          <option value="GM">GM Controlled</option>
          <option value="Player">Player Controlled</option>
        </select>

        <button type="submit">Add Vehicle</button>
      </form>
    </section>

    <!-- Chase Dashboard -->
    <section id="chaseDashboard">
      <h2>Chase Dashboard</h2>
      <div id="chaseBanner">
        <label for="chaseGap">Chase Gap:</label>
        <select id="chaseGap">
          <option value="Far">Far</option>
          <option value="Near">Near</option>
        </select>
      </div>
      <div id="dashboardLists">
        <div id="pursuers">
          <h3>Pursuers</h3>
          <ul id="pursuerList"></ul>
        </div>
        <div id="evaders">
          <h3>Evaders</h3>
          <ul id="evaderList"></ul>
        </div>
      </div>
    </section>

    <!-- Chase Actions -->
    <section id="chaseActions">
      <h2>Chase Actions</h2>
      <form id="actionForm">
        <label for="actionType">Action Type:</label>
        <select id="actionType" required>
          <option value="driving">Driving Check</option>
          <option value="ramming">Ramming/Sideswipe</option>
          <option value="driverAttack">Driver Attack</option>
        </select>

        <label for="actingVehicle">Select Acting Vehicle:</label>
        <select id="actingVehicle" required></select>

        <label for="targetVehicle">Select Target Vehicle:</label>
        <select id="targetVehicle" required></select>

        <!-- Roll Mode: GM or Player -->
        <fieldset>
          <legend>Roll Mode</legend>
          <label><input type="radio" name="rollMode" value="GM" checked /> GM Roll</label>
          <label><input type="radio" name="rollMode" value="Player" /> Player Roll</label>
        </fieldset>

        <!-- GM Roll Panel (only Modifier field now) -->
        <div id="gmRollPanel">
          <input type="number" id="gmModifier" placeholder="Modifier (optional)" />
          <button type="button" id="rollDiceButton">Roll Dice (GM)</button>
          <div id="gmRollResult"></div>
        </div>

        <!-- Player Roll Panel with Modifier -->
        <div id="playerRollPanel" style="display: none;">
          <input type="text" id="playerRollResult" placeholder="Enter Roll Result (e.g., 18 or 18!)" />
          <input type="number" id="playerModifier" placeholder="Modifier (optional)" />
        </div>

        <button type="submit">Apply Action</button>
      </form>
    </section>

    <!-- Event Log -->
    <section id="eventLog">
      <h2>Event Log</h2>
      <ul id="logList"></ul>
    </section>

    <!-- Reset Button -->
    <section id="resetSection">
      <button id="resetChase">New Chase (Reset Vehicles)</button>
    </section>
  </main>
  <script src="script.js"></script>
</body>
</html>
