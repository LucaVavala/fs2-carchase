<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Feng Shui 2 Vehicle Chase Tracker</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="manifest" href="manifest.json">
</head>
<body>
  <header>
    <h1>Feng Shui 2 Vehicle Chase Tracker</h1>
  </header>
  <main>
    <!-- Vehicle Setup Section -->
    <section id="vehicle-setup">
      <h2>Add Vehicle</h2>
      <form id="addVehicleForm">
        <label for="vehicleType">Vehicle Type:</label>
        <select id="vehicleType" required>
          <option value="" disabled selected>Select vehicle type</option>
          <!-- Predefined vehicles; you can add more as needed -->
          <option value="Maserati">Maserati</option>
          <option value="Police Pursuit Van">Police Pursuit Van</option>
          <option value="Custom">Custom</option>
        </select>
        <input type="text" id="vehicleName" placeholder="Vehicle Name" required>

        <!-- Manual inputs appear only if "Custom" is selected -->
        <div id="customStats" style="display:none;">
          <input type="number" id="acceleration" placeholder="Acceleration" required>
          <input type="number" id="handling" placeholder="Handling" required>
          <input type="number" id="frame" placeholder="Frame" required>
        </div>

        <label for="vehicleRole">Role:</label>
        <select id="vehicleRole" required>
          <option value="Pursuer">Pursuer</option>
          <option value="Evader">Evader</option>
        </select>

        <label for="controlType">Control:</label>
        <select id="controlType" required>
          <option value="GM">GM Controlled</option>
          <option value="Player">Player Controlled</option>
        </select>
        <button type="submit">Add Vehicle</button>
      </form>
    </section>

    <!-- Chase Dashboard -->
    <section id="chaseDashboard">
      <h2>Chase Dashboard</h2>
      <div id="chaseBanner">
        <label for="chaseGap">Chase Gap:</label>
        <select id="chaseGap">
          <option value="Far">Far</option>
          <option value="Near">Near</option>
        </select>
      </div>
      <div id="dashboardLists">
        <div id="pursuers">
          <h3>Pursuers</h3>
          <ul id="pursuerList"></ul>
        </div>
        <div id="evaders">
          <h3>Evaders</h3>
          <ul id="evaderList"></ul>
        </div>
      </div>
    </section>

    <!-- Chase Actions -->
    <section id="chaseActions">
      <h2>Chase Actions</h2>
      <form id="actionForm">
        <label for="actionType">Action Type:</label>
        <select id="actionType" required>
          <option value="driving">Driving Check</option>
          <option value="ramming">Ramming/Sideswipe</option>
          <option value="driverAttack">Driver Attack</option>
        </select>
        <label for="targetVehicle">Select Vehicle:</label>
        <select id="targetVehicle" required></select>
        
        <!-- Roll Mode: GM or Player -->
        <fieldset>
          <legend>Roll Mode</legend>
          <label><input type="radio" name="rollMode" value="GM" checked> GM Roll</label>
          <label><input type="radio" name="rollMode" value="Player"> Player Roll</label>
        </fieldset>

        <!-- GM Roll Panel -->
        <div id="gmRollPanel">
          <input type="number" id="gmDrivingScore" placeholder="Driving Score" required>
          <input type="number" id="gmModifier" placeholder="Modifier (optional)">
          <button type="button" id="rollDiceButton">Roll Dice</button>
          <div id="gmRollResult"></div>
        </div>

        <!-- Player Roll Panel -->
        <div id="playerRollPanel" style="display:none;">
          <input type="text" id="playerRollResult" placeholder="Enter Roll Result (e.g., 8 or 8!)" required>
          <input type="number" id="opponentScore" placeholder="Opponent's Driving Score" required>
        </div>

        <button type="submit">Apply Action</button>
      </form>
    </section>

    <!-- Event Log -->
    <section id="eventLog">
      <h2>Event Log</h2>
      <ul id="logList"></ul>
    </section>

    <!-- Reset Button -->
    <section id="resetSection">
      <button id="resetChase">New Chase (Reset Vehicles)</button>
    </section>
  </main>
  <script src="script.js"></script>
</body>
</html>
